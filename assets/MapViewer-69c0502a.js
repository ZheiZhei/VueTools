import{_ as m,u as w,o as l,c as b,a as e,t as d,F as h,b as u,n as _,f as A,p as y,g as x}from"./index-207f70e7.js";const g={props:{},data(){return{options:Array,mapData:Array,predefines:Array}},created(){},mounted(){let t=w();this.levelId=t.params.map,this.axios.get("../../static/act1sandbox/"+t.params.map+".json").then(s=>{this.options=s.data.options,this.mapData=s.data.mapData,this.predefines=s.data.predefines})},updated(){this.$nextTick(()=>{this.renderTiles(this.mapData.tiles),this.renderToken(this.predefines.tokenInsts),this.renderBlackBoard(this.options.configBlackBoard),this.setFontSize(),tippy("[data-tippy-content]",{allowHTML:!0})})},methods:{returnMaxTime(t){return t>0?t+"ç§’":"æ— é™"},appendAttr(t,s){let a=$(t).attr("data-tippy-content");a?$(t).attr("data-tippy-content",a+"<br>"+s):$(t).attr("data-tippy-content",s)},setFontSize(){let t=$('[class|="board"] span'),s=parseInt(t.parent().width()/4*3);t.css("font-size",s+"px")},renderTiles(t){t.forEach((s,a)=>{let r=s.tileKey.replace("tile_","");switch(r){case"start":$(".board-"+a).html("<span>âš </span>"),this.appendAttr(".board-"+a,"<b>ä¾µå…¥ç‚¹</b>");break;case"end":$(".board-"+a).html("<span>âš </span>"),this.appendAttr(".board-"+a,"<b>ä¿æŠ¤ç›®æ ‡</b>");break;case"floor":$(".board-"+a).html("<span>ğŸ›‡</span>");break;case"flystart":$(".board-"+a).html("<span>âœˆ</span>"),this.appendAttr(".board-"+a,"<b>ç©ºè¢­ä¾µå…¥ç‚¹</b>");break;case"hole":this.appendAttr(".board-"+a,"<b>åœ°ç©´</b>");break;case"grass":this.appendAttr(".board-"+a,"<b>è‰ä¸›</b>");break;case"deepsea":this.appendAttr(".board-"+a,"<b>æ¸…æ¾ˆæ°´åŸŸ</b>");break;case"infection":this.appendAttr(".board-"+a,"<b>æ´»æ€§æºçŸ³</b><br>éƒ¨ç½²äºå…¶ä¸Šçš„æˆ‘å†›å’Œç»è¿‡çš„æ•Œå†›æŒç»­å—åˆ°ä¼¤å®³ï¼Œä½†æ”»å‡»åŠ›å’Œæ”»é€Ÿå¤§å¹…åº¦æå‡");break;case"corrosion_2":$(".board-"+a).html('<span><i class="fas fa-angle-double-down"></i></span>'),this.appendAttr(".board-"+a,"<b>è…èš€åœ°é¢</b><br>ç½®äºå…¶ä¸Šçš„æˆ‘æ–¹å•ä½é˜²å¾¡åŠ›å‡åŠ");break;case"healing":this.appendAttr(".board-"+a,"<b>åŒ»ç–—ç¬¦æ–‡</b><br>éƒ¨ç½²åœ¨å…¶ä¸Šçš„å¹²å‘˜ä¼šæŒç»­æ¢å¤ç”Ÿå‘½");break;case"telin":$(".board-"+a).html('<span><i class="fas fa-indent"></i></span>'),this.appendAttr(".board-"+a,"<b>é€šé“å…¥å£</b>");break;case"telout":$(".board-"+a).html('<span><i class="fas fa-outdent"></i></span>'),this.appendAttr(".board-"+a,"<b>é€šé“å‡ºå£</b>");break;case"volcano":this.appendAttr(".board-"+a,"<b>çƒ­æ³µé€šé“</b><br>æ¯éš”ä¸€æ®µæ—¶é—´ä¾¿ä¼šå¯¹å…¶ä¸Šçš„æˆ‘å†›å’Œæ•Œå†›é€ æˆå¤§é‡ä¼¤å®³");break;case"volspread":this.appendAttr(".board-"+a,"<b>å²©æµ†å–·å°„å¤„</b><br>æ¯éš”ä¸€å®šæ—¶é—´ä¼šå–·å‡ºå²©æµ†ï¼Œå¯¹å‘¨å›´8æ ¼å†…çš„æˆ‘æ–¹å•ä½é€ æˆå¤§é‡ä¼¤å®³ä¸”èåŒ–éšœç¢ç‰©");break}$(".board-"+a).addClass(r)})},renderToken(t){t.forEach(s=>{let a=s.position,r=s.inst.characterKey.replace(/trap_[0-9]+_/g,"");switch(r){case"xbwood":this.appendAttr("."+a.row+"-"+a.col,"<b>æ‚æœ¨æ—</b><br>å¯å¼€é‡‡<æœ¨æ>");break;case"xboverwatch":this.appendAttr("."+a.row+"-"+a.col,"<b>ç›‘æ§å¡”</b><br>å¯ä»¥ä¾¦æŸ¥èŒƒå›´å†…çš„è§†é‡");break;case"vegetation":this.appendAttr("."+a.row+"-"+a.col,"<b>çŒæœ¨ä¸›</b><br>å‡»ç ´åå¯ä»¥è·å¾—ä¸€äº›ç´ æ");break;case"hiddenstone":this.appendAttr("."+a.row+"-"+a.col,"<b>é—è¿¹æ®‹éª¸</b><br>å‡»ç ´åå¯è§£é”éšè—åŒºåŸŸ");break;case"gtreasure":$("."+a.row+"-"+a.col).html("<span>â™”</span>"),this.appendAttr("."+a.row+"-"+a.col,"<b>åŸ‹æ²¡é‡‘å±ç®±</b><br>å‡»ç ´åå¯è·å¾—ä¸€äº›å®ç‰©");break;case"ballis":$("."+a.row+"-"+a.col).html("<span>â¹</span>"),this.appendAttr("."+a.row+"-"+a.col,"<b>å¼©ç‚®</b><br>ä¼šå®šæœŸå°„å‡ºå¼©ç®­å¯¹æˆ‘æ–¹å•ä½é€ æˆç‰©ç†ä¼¤å®³");break;case"streasure":$("."+a.row+"-"+a.col).html("<span>â™š</span>"),this.appendAttr("."+a.row+"-"+a.col,"<b>å®åˆºé‡‘å±ç®±</b><br>å‡»ç ´åå¯ä»¥è·å¾—ä¸€äº›çè´µå®ç‰©ï¼Œå—åˆ°æ”»å‡»æ—¶ä¼šåå¼¹çœŸå®ä¼¤å®³");break;case"xbstone":this.appendAttr("."+a.row+"-"+a.col,"<b>å·¨å¤§å²©çŸ³</b><br>å¯å¼€é‡‡<çŸ³æ>");break;case"roadblock":this.appendAttr("."+a.row+"-"+a.col,"<b>é“è·¯éšœç¢ç‰©</b><br>ä¸å®¹æ˜“å—åˆ°æˆ‘æ–¹å•ä½çš„æ”»å‡»");break;case"xbiron":this.appendAttr("."+a.row+"-"+a.col,"<b>å¥‡å¼‚çŸ¿è„‰</b><br>å¯å¼€é‡‡<é“çŸ¿çŸ³>");break;case"airsup":this.appendAttr("."+a.row+"-"+a.col,"<b>æ— äººæœºå‡ºå‘ç‚¹</b>");break;case"wdescp":$("."+a.row+"-"+a.col).html('<span><i class="fas fa-sign-out-alt"></i></span>'),this.appendAttr("."+a.row+"-"+a.col,"<b>é€ƒè„±ç‚¹</b><br>éƒ¨ç½²å¹²å‘˜åæ¿€æ´»é‡å¤–æ”¯æ´å¯è¿›è¡Œé€ƒè„±");break;case"redtower":$("."+a.row+"-"+a.col).html('<span><i class="fas fa-broadcast-tower"></i></span>'),this.appendAttr("."+a.row+"-"+a.col,"<b>ç§»åŠ¨æˆ˜å¡”</b><br>æ•Œæ–¹è€å·¢ï¼Œå‡»è´¥è¯¥åœ°åŒºçš„å…¨éƒ¨è€å·¢ä½¿è¯¥åœ°åŒºä¸ä¼šåˆ·æ–°ç²¾è‹±æ•Œè¢­");break;case"xbbase":$("."+a.row+"-"+a.col).html('<span><i class="fas fa-chess-rook"></i></span>'),this.appendAttr("."+a.row+"-"+a.col,"<b>åŸºåœ°</b>");break;case"xbfarm":this.appendAttr("."+a.row+"-"+a.col,"<b>ä¾¿æºå¼ç§æ¤æ§½</b><br>æ¯å¤©äº§å‡ºä¸€å®šæ•°é‡çš„<ç¨»è°·>ï¼Œå¯éƒ¨ç½²åœ¨ä½åœ°");break}$("."+a.row+"-"+a.col).addClass("token "+r)})},renderBlackBoard(t){t.forEach(s=>{let a=s.valueStr;if(!a<=0){let r=a.replace(/\(|\)/g,"").split(",");if(r.length==4){let o=new Array;for(let n=parseInt(r[0]);n<=parseInt(r[2]);n++)for(let p=parseInt(r[1]);p<=parseInt(r[3]);p++)o.push([n,p]);o.forEach(n=>{$("."+n[0]+"-"+n[1]).addClass("rect")})}}})}}},k=t=>(y("data-v-6fd837e9"),t=t(),x(),t),v={class:"uk-table uk-table-small inline-table inline-block w-1/2"},I=k(()=>e("tr",null,[e("th",null,"å¹²å‘˜éƒ¨ç½²ä¸Šé™"),e("th",null,"ä¿æŠ¤ç‚¹ç”Ÿå‘½å€¼"),e("th",null,"åˆå§‹è´¹ç”¨ç‚¹æ•°")],-1)),T=k(()=>e("tr",null,[e("th",null,"è´¹ç”¨ç‚¹æ•°ä¸Šé™"),e("th",null,"è‡ªç„¶å›å¤å€ç‡"),e("th",null,"èµ„æºæ”¶é›†æ—¶é™")],-1)),B=["innerHTML"],D={colspan:"3"},S={id:"map",class:"w-full"};function M(t,s,a,r,o,n){return l(),b("table",v,[e("tbody",null,[I,e("tr",null,[e("td",null,d(o.options.characterLimit),1),e("td",null,d(o.options.maxLifePoint),1),e("td",null,d(o.options.initialCost),1)]),T,e("tr",null,[e("td",null,d(o.options.maxCost),1),e("td",null,d(o.options.costIncreaseTime),1),e("td",{innerHTML:n.returnMaxTime(o.options.maxPlayTime)},null,8,B)]),e("tr",null,[e("td",D,[e("div",S,[(l(!0),b(h,null,u(o.mapData.map,(p,i)=>(l(),b("div",{key:i,class:"row"},[(l(!0),b(h,null,u(p,(f,c)=>(l(),b("div",{key:c,class:_("board-"+f+" "+(o.mapData.height-1-i)+"-"+c),style:A("width: "+100/o.mapData.width+"%")},null,6))),128))]))),128))])])])])])}const C=m(g,[["render",M],["__scopeId","data-v-6fd837e9"]]);export{C as default};
